getUserDetails:
    handler: lambda/getUserDetails.handler
    name: getUserDetails-${self:provider.stage}
    layers:
      - { Ref: CommonLayerLambdaLayer }
    role: !GetAtt getUserDetailsRole.Arn
    events:
      - http:
          path: /getUserDetails
          method: post
          cors: true
          integration: lambda
          authorizer:
            type: COGNITO_USER_POOLS
            authorizerId: !Ref ApiAuthorizer
    environment:
      stage: ${self:provider.stage}