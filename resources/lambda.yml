getUserDetails:
    handler: lambda/getUserDetails.handler
    name: getUserDetails-dev
    layers:
      - { Ref: CommonLayerLambdaLayer }
    role: !GetAtt getUserDetailsRole.Arn
    events:
      - http:
          path: /getUserDetails
          method: post
          cors: true
          integration: lambda
          authorizer:
            type: COGNITO_USER_POOLS
            authorizerId: !Ref ApiAuthorizer
    environment:
      stage: dev
    package:
      include:
        - lambda/getUserDetails.mjs